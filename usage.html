<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at Jan 12, 2013
 | Rendered using Apache Maven Fluido Skin 1.2.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20130112" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/vdemeester/vaadin-container-utils">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 100;"
        src="https://a248.e.akamai.net/assets.github.com/img/7afbc8b248c68eb468279e8c17986ad46549fb71/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>vaadin-container-utils</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2013-01-12</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.2.0-SNAPSHOT</li>
                      
                
            
      
                  </ul>
      </div>

            <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
            
                                    <h3>About vaadin-container-utils</h3>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
            <strong>Usage</strong>
          </li>
          </ul>
                        <h3>Project</h3>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                      
            
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
        <div id="bodyColumn"  class="span9" >
                                  
            <h2>Usage</h2>

<h3>ContainerUtils</h3>

<p>The main method in <code>ContainerUtils</code> is <code>initContainer</code>. It lets you instantiate a new Container based on a type.
If the type is a concrete class, it will directly instantiate it, else it will try some predefined default.</p>

<pre><code>// Concrete classes
ContainerUtils.initContainer(IndexedContainer.class); // Instantiate an IndexedContainer
// Interfaces
ContainerUtils.initContainer(Filterable.class); // Instantiate a Filterable container (using IndexedContainer)
ContainerUtils.initContainer(Hierarchical.class); // Instantiate a Hierarchical container (using HierarchicalContainer)
</code></pre>

<p>For more, please look at the <a href="/apidocs/org/shortbrain/vaadin/container/ContainerUtils.html">javadocs</a></p>

<h3>ContainerFactory</h3>

<p>The <code>ContainerFactory</code> class is here to simplify the creation of Containers. 
It will handle the initialization of the Container and its properties (and update them if
the container already contained properties), and populate it with a given list of Object (Bean).</p>

<pre><code>// ContainerFactory containerFactory already defined
// Specify an existing Container (container), and a list of MyBean
containerFactory.getContainerFromList(container, myBeans);

// Specify an existing null Container, and a list of MyBean
Container.Filterable filterableContainer = null;
containerFactory.getContainerFromList(filterableContainer, myBeans, Filterable.class);

// Specify a list of MyBean and a type of Container
Container.Filterable filterableContainer = null;
containerFactory.getContainerFromList(myBeans, Filterable.class);
</code></pre>

<p>Right now, <code>ContainerFactory</code> only support <code>Filterable</code> and <code>Hierarchical</code> Vaadin containers.
For <code>Hierarchical</code> containers, it will by default look for an attribute named <code>children</code>. In the 
future version of this library, this behavior will be configurable).</p>

<pre><code>class MyBean {
    List&lt;MyBean&gt; children;
    //[â¦]
}
// Specify a list of MyBean and a type of Container
Container.Filterable filterableContainer = null;
containerFactory.getContainerFromList(myBeans, Hierarchical.class);
// This will give you a hierarchy (visible in TreeTable for example)
</code></pre>

<h3>Creation</h3>

<p>There is sensible default static creation methods to get ContainerFactory instances.</p>

<pre><code>// Simple default ContainerFactory
// Looking for properties by attributes (of MyBean)
ContainerFactory&lt;MyBean&gt; containerFactory = ContainerFactory.getByAttributes(MyBean.class);

// Looking for properties by getter methods (of MyBean)
ContainerFactory&lt;MyBean&gt; containerFactory = ContainerFactory.getByGetters(MyBean.class);
</code></pre>

<p>It also possible to passed a custom <code>PropertyReaderAlgorithm</code>, implementation that will get 
properties out of MyBean.</p>

<pre><code>// Let say TotoAlgorithm is an implementation of PropertyReaderAlgorithm
ContainerFactory&lt;MyBean&gt; containerFactory = ContainerFactory.getByAlgorithm(MyBean.class, new TotoAlgorithm());
</code></pre>

<h4>Annotation</h4>

<p>The last algorithm currently implemented is by looking up for the <code>@Container</code> annotation.
The idea behind this annotation is to be able to specify the properties that should be created
for the bean and how to get the values.</p>

<p>For this to work, there is an <code>@Container</code> annotation that takes an array of <code>@Property</code> annotation.
Each <code>@Property</code> defines few fields :</p>

<ul>
<li><strong>name</strong> : The name of the properties.</li>
<li><strong>types</strong> : An array of <code>ContainerType</code> that lets defined multiple type of Container.</li>
<li><strong>attribut</strong> : How to look for the value of the property. If not specified, it will be the same as name.</li>
</ul>

<pre>
@Container(properties = {
        @Property(name = "string", types = { ContainerType.EXTENDED,
                ContainerType.RESUME }),
        @Property(name = "number", types = { ContainerType.RESUME }, attribute = "integer") })
private static class TestBean {

    private String string;
    private Integer integer;

    public String getString() {
        return string;
    }

    public Integer getInteger() {
        return integer;
    }
}
</pre>

<p>As for other implemented algorithms, there is an easy way to get a ContainerFactory using
this algorithm.</p>

<pre><code>// Looking for properties by annotation @Container (of MyBean)
// Using ContainerType.RESUME definition
ContainerFactory&lt;MyBean&gt; containerFactory = ContainerFactory.getByAnnotation(MyBean.class, ContainerType.RESUME);
// Using ContainerType.EXTENDED definition
ContainerFactory&lt;MyBean&gt; containerFactory = ContainerFactory.getByAnnotation(MyBean.class, ContainerType.EXTENDED);
</code></pre>

<h3>Extending</h3>

<p>The ContainerFactory has been designed to be easily extensible. There is two way of extending the ContainerFactory :</p>

<ol>
<li>Extends the <code>ContainerFactory</code> class. This is almost like implementing an Interface, you have almost nothing to start.</li>
<li>Extends the <code>AbstractContainerFactory</code>, the class behind the static creation method. This is the <strong>preferred</strong> ways.</li>
</ol>

                  </div>
            </div>
      
    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                   2013.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
